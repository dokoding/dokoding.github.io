---
title: Jest로 완벽히 커버해보자!
date: 2023-06-11 20:00:00 +0900
categories:
  - JavaScript
tags:
  - Jest
---

안녕하세요, 코드의 모든 구석구석을 살펴보며 품질을 높여주는 Jest의 커버리지 기능을 함께 배워보려고 합니다. 준비되셨나요? 그럼 시작해봅시다!

## 테스트 커버리지란 무엇인가요? 🧐

먼저, 테스트 커버리지란 무엇일까요? 너무 어렵게 생각하지 마세요. 테스트 커버리지는 소프트웨어의 한 부분으로, 우리 코드의 어느 부분이 테스트되었는지를 알려줍니다. 

우리가 코드를 작성할 때 "이 부분은 정말 중요하니까 꼭 테스트해야지!" 라고 생각하는 부분이 있잖아요? 테스트 커버리지를 이용하면 그런 부분들이 제대로 테스트되었는지를 확인할 수 있습니다.

높은 테스트 커버리지를 가진 소프트웨어는 사용자들이 더 신뢰하고 쉽게 사용할 수 있습니다. 쉽게 말해, "우리 코드 짱짱맨!" 이라고 자부할 수 있는 그런 지표가 바로 테스트 커버리지랍니다!

## Jest로 커버리지 확인하기 🕵️‍♂️

Jest는 테스트 커버리지를 확인할 때 사용하는 테스팅 프레임워크입니다. 

Jest를 사용해서 테스트 커버리지를 확인하려면, 터미널에 아래와 같이 입력해주세요!

```bash
jest --coverage
```

마법같이! ✨ 터미널에는 테스트 커버리지에 대한 정보가 나타나게 됩니다. 그리고 테스트 커버리지의 결과도 굉장히 친절하게 퍼센트로 표시해줍니다. 진짜 마법이죠?

## 커버리지 데이터를 더 정확하게 만들기 🎯

그런데, Jest로 테스트 커버리지를 확인하다보면 "어? 이게 왜 이렇게 높지?" 하는 경우가 있을거에요. 이런 놀라움을 피하려면, `collectCoverageFrom` 옵션을 사용해서 커버리지 데이터를 더 정확하게 수집할 수 있답니다.

다음은 `jest.config.js` 파일에서 `collectCoverageFrom` 옵션을 어떻게 설정하는지 보여주는 예시에요!

```javascript
module.exports = {
  collectCoverageFrom: ['**/*.[jt]s?(x)', '!**/*.stories.[jt]s?(x)'],
};
```

이렇게 설정하면, 파일 이름에 `stories`가 들어간 파일을 제외하고 모든 JavaScript와 TypeScript 파일에서 커버리지 데이터를 수집할 수 있습니다!

## 커버리지 기준 설정하기 ⚖️

마지막으로, 우리 프로젝트의 커버리지 기준을 설정해보겠습니다. 이 기준은 "우리 코드는 최소 이 정도는 테스트되어야 해!" 라는 것을 정하는 기준이에요.

다음 코드는 `jest.config.js` 파일에서 `coverageThreshold` 옵션을 어떻게 설정하는지 보여줍니다.

```javascript
module.exports = {
  coverageThreshold: {
    './src/': {
      statements: 95,
      branches: 90,
      functions: 95,
      lines: 90,
    },
  },
};
```

이 설정으로 인해, 우리는 자신있게 "우리 코드는 최소 90~95%는 테스트되었어!" 라고 말할 수 있게 됩니다. 놀라운 것은, 이 기준에 미치지 못하면 에러가 발생한다는 거에요!

## 마치며 🎉

자, 이렇게 Jest로 테스트 커버리지를 확인하는 방법에 대해 알아봤습니다. 이제 당신도 테스트 커버리지 마스터가 되어, 버그 없이 더 안전한 코드를 작성할 수 있을 것입니다! 

그럼 행복한 코딩 되세요~ 😊
